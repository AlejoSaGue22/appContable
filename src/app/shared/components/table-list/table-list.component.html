<div class="bg-white rounded-lg shadow-sm overflow-hidden">

  <!-- Table Content -->
  <div class="overflow-x-auto">
      <!-- Table Header -->
    <div class="w-full flex justify-between items-center mb-3 mt-1 pl-3">
      <div>
          <div class="flex items-center space-x-2">
            <div id="iconoExcel" class="flex items-center justify-center h-10 w-10 rounded-lg bg-green-100 cursor-pointer">
              <div class="inset-0 rounded-lg opacity-50"></div>
              <svg xmlns="http://www.w3.org/2000/svg"  width="32" height="32" viewBox="0 0 32 32"><defs><linearGradient id="SVGxUjO6TbQ" x1="4.494" x2="13.832" y1="-2092.086" y2="-2075.914" gradientTransform="translate(0 2100)" gradientUnits="userSpaceOnUse"><stop offset="0" stop-color="#18884f"/><stop offset=".5" stop-color="#117e43"/><stop offset="1" stop-color="#0b6631"/></linearGradient></defs><path fill="#185c37" d="M19.581 15.35L8.512 13.4v14.409A1.19 1.19 0 0 0 9.705 29h19.1A1.19 1.19 0 0 0 30 27.809V22.5Z"/><path fill="#21a366" d="M19.581 3H9.705a1.19 1.19 0 0 0-1.193 1.191V9.5L19.581 16l5.861 1.95L30 16V9.5Z"/><path fill="#107c41" d="M8.512 9.5h11.069V16H8.512Z"/><path d="M16.434 8.2H8.512v16.25h7.922a1.2 1.2 0 0 0 1.194-1.191V9.391A1.2 1.2 0 0 0 16.434 8.2" opacity="0.1"/><path d="M15.783 8.85H8.512V25.1h7.271a1.2 1.2 0 0 0 1.194-1.191V10.041a1.2 1.2 0 0 0-1.194-1.191" opacity="0.2"/><path d="M15.783 8.85H8.512V23.8h7.271a1.2 1.2 0 0 0 1.194-1.191V10.041a1.2 1.2 0 0 0-1.194-1.191" opacity="0.2"/><path d="M15.132 8.85h-6.62V23.8h6.62a1.2 1.2 0 0 0 1.194-1.191V10.041a1.2 1.2 0 0 0-1.194-1.191" opacity="0.2"/><path fill="url(#SVGxUjO6TbQ)" d="M3.194 8.85h11.938a1.193 1.193 0 0 1 1.194 1.191v11.918a1.193 1.193 0 0 1-1.194 1.191H3.194A1.19 1.19 0 0 1 2 21.959V10.041A1.19 1.19 0 0 1 3.194 8.85"/><path fill="#fff" d="m5.7 19.873l2.511-3.884l-2.3-3.862h1.847L9.013 14.6c.116.234.2.408.238.524h.017q.123-.281.26-.546l1.342-2.447h1.7l-2.359 3.84l2.419 3.905h-1.809l-1.45-2.711A2.4 2.4 0 0 1 9.2 16.8h-.024a1.7 1.7 0 0 1-.168.351l-1.493 2.722Z"/><path fill="#33c481" d="M28.806 3h-9.225v6.5H30V4.191A1.19 1.19 0 0 0 28.806 3"/><path fill="#107c41" d="M19.581 16H30v6.5H19.581Z"/></svg>
            </div>
          </div>
      </div>
      <div class="ml-3 mr-4">
          <div class="flex items-center space-x-3">
            <div class="relative">
                <input
                  class="bg-white w-full pr-11 h-10 pl-3 py-2 placeholder:text-slate-400 text-slate-700 
                  text-sm border border-slate-200 rounded transition duration-200 ease focus:outline-none focus:border-slate-400
                  hover:border-slate-400 shadow-sm focus:shadow-md"
                  placeholder="Buscar..."
                  type="text"
                  (keyup)="inputValue.set(txtSearch.value)"
                  #txtSearch
                />
                <button
                  class="absolute h-8 w-8 right-1 top-1 my-auto px-2 flex items-center bg-white rounded"
                  type="button" 
                  (click)="onSearch(txtSearch.value)">
                  <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="3" stroke="currentColor" class="w-8 h-8 text-slate-600">
                      <path stroke-linecap="round" stroke-linejoin="round" d="m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z" />
                  </svg>
                </button>
            </div>
            <button class="px-3 py-2 bg-blue-500 text-white text-sm font-medium rounded-md hover:bg-blue-600 flex items-center cursor-pointer"
            [routerLink]="rutaLink() + `new-Item`">
                  <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-1" viewBox="0 0 20 20" fill="currentColor">
                    <path fill-rule="evenodd" d="M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z" clip-rule="evenodd" />
                  </svg>
                AÃ±adir
            </button>
          </div>
      </div>
    </div>
  
      <div class="relative flex flex-col w-full text-gray-700 bg-white shadow-md rounded-lg bg-clip-border">
          <table class="w-full text-left table-auto min-w-max h-full">
              <thead>
                <tr>
                  @for (item of columns(); track $index) {
                    <th class="p-4 border-b border-slate-200 bg-slate-50">
                        <p class="text-sm font-normal leading-none text-slate-500">
                          {{ item.header }}
                        </p>
                    </th>
                  }

                  @if ( hasAction() ) {
                      <th scope="col" colspan="2" class="p-4 border-b border-slate-200 bg-slate-50">
                          <p class="text-sm font-normal leading-none text-slate-500">
                            Acciones
                          </p>
                      </th>
                  }   
                </tr>
              </thead>
              <tbody>
                @for (item of dataTableTemp(); track $index) {
                  <tr class="hover:bg-slate-50 border-b border-slate-200">
                    @for (colum of columns(); track $index) {
                        <td class="p-4 py-5">
                          <p class="block text-sm text-slate-800">
                            @if ( colum?.type == 'number' ) {
                                {{ item[colum.key] | currency : "$" }}
                            }@else {
                                {{ item[colum.key] | titlecase }}
                            }
                          </p>
                        </td>
                    }

                    @if (hasAction()) {
                      <td class="text-center">
                          <!-- <button [id]="dataDropdown(item.id, $index) + 'dropdown-button'" [attr.data-dropdown-toggle]="dataDropdown(item.id, $index) +'-dropdown'" 
                            class="cursor-pointer" type="button">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><mask id="SVGzJbIMdSz"><defs><symbol id="SVGKKfyAcRD">
                              <path d="M11 13L15.74 5.5C16.03 5.67 16.31 5.85 16.57 6.05C16.57 6.05 16.57 6.05 16.57 6.05C16.64 6.1 16.71 6.16 16.77 6.22C18.14 7.34 19.09 8.94 19.4 10.75C19.41 10.84 19.42 10.92 19.43 11C19.43 11 19.43 11 19.43 11C19.48 11.33 19.5 11.66 19.5 12z">
                                <animate fill="freeze" attributeName="d" begin="0.5s" dur="0.2s" values="M11 13L15.74 5.5C16.03 5.67 16.31 5.85 16.57 6.05C16.57 6.05 16.57 6.05 16.57 6.05C16.64 6.1 16.71 6.16 16.77 6.22C18.14 7.34 19.09 8.94 19.4 10.75C19.41 10.84 19.42 10.92 19.43 11C19.43 11 19.43 11 19.43 11C19.48 11.33 19.5 11.66 19.5 12z;M11 13L15.74 5.5C16.03 5.67 16.31 5.85 16.57 6.05C16.57 6.05 19.09 5.04 19.09 5.04C19.25 4.98 19.52 5.01 19.6 5.17C19.6 5.17 21.67 8.75 21.67 8.75C21.77 8.92 21.73 9.2 21.6 9.32C21.6 9.32 19.43 11 19.43 11C19.48 11.33 19.5 11.66 19.5 12z"/></path></symbol></defs><g fill="none" stroke="#fff" stroke-width="2"><path stroke-dasharray="36" stroke-dashoffset="36" stroke-width="5" d="M12 7c2.76 0 5 2.24 5 5c0 2.76 -2.24 5 -5 5c-2.76 0 -5 -2.24 -5 -5c0 -2.76 2.24 -5 5 -5Z"><animate fill="freeze" attributeName="stroke-dashoffset" dur="0.5s" values="36;0"/><set fill="freeze" attributeName="opacity" begin="0.5s" to="0"/></path><g fill="#fff" stroke="none" opacity="0"><use href="#SVGKKfyAcRD"/><use href="#SVGKKfyAcRD" transform="rotate(60 12 12)"/><use href="#SVGKKfyAcRD" transform="rotate(120 12 12)"/><use href="#SVGKKfyAcRD" transform="rotate(180 12 12)"/><use href="#SVGKKfyAcRD" transform="rotate(240 12 12)"/><use href="#SVGKKfyAcRD" transform="rotate(300 12 12)"/><set fill="freeze" attributeName="opacity" begin="0.5s" to="1"/><animateTransform attributeName="transform" dur="30s" repeatCount="indefinite" type="rotate" values="0 12 12;360 12 12"/></g></g><circle cx="12" cy="12" r="3.5"/></mask><rect width="24" height="24" fill="currentColor" mask="url(#SVGzJbIMdSz)"/>
                            </svg>
                          </button>

                          <div [id]="dataDropdown(item.id, $index) + '-dropdown'" class="z-10 hidden bg-white divide-y divide-gray-100 rounded-lg shadow-sm w-44 dark:bg-gray-700">
                              <ul class="py-2 text-sm text-gray-700 dark:text-gray-200 cursor-pointer" [attr.aria-labelledby]="dataDropdown(item.id, $index) + 'dropdown-button'">
                                  <li class="border-b-1">
                                    <a class="block px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white" 
                                        [routerLink]="rutaLink() + item">Editar </a>
                                  </li>
                                  <li class="border-b-1">
                                    <a class="block px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white">Eliminar</a>
                                  </li>
                                  <li>
                                    <a class="block px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-600 dark:hover:text-white">Visualizar</a>
                                  </li>
                              </ul>
                          </div> -->

                          <!-- <button data-tooltip-target="tooltip-default" type="button" class="text-white bg-brand box-border border border-transparent hover:bg-brand-strong focus:ring-4 focus:ring-brand-medium shadow-xs font-medium leading-5 rounded-base text-sm px-4 py-2.5 focus:outline-none">Default tooltip</button>

                          <div id="tooltip-default" role="tooltip" class="absolute z-10 invisible inline-block px-3 py-2 text-sm font-medium text-white transition-opacity duration-300 bg-dark rounded-base shadow-xs opacity-0 tooltip">
                              Tooltip content
                              <div class="tooltip-arrow" data-popper-arrow></div>
                          </div> -->

                          <button type="button"   
                                  [routerLink]="rutaLink() + item.id"   
                                  class="font-medium text-sm px-4 py-2.5 cursor-pointer">
                                  <svg xmlns="http://www.w3.org/2000/svg" class="hover:text-gray-400" width="24" height="24" viewBox="0 0 24 24">
                                    <g fill="currentColor" fill-rule="evenodd" clip-rule="evenodd">
                                    <path d="M9.75 20.5V22h-3a2.25 2.25 0 0 1-2.25-2.25V9.621c0-.596.237-1.169.659-1.59l5.367-5.371A2.25 2.25 0 0 1 12.118 2h5.132a2.25 2.25 0 0 1 2.25 2.25v5.5H18v-5.5a.75.75 0 0 0-.75-.75h-5.002l.003 3.998A2.25 2.25 0 0 1 10 9.75H6v10c0 .414.336.75.75.75zm.999-15.941L7.059 8.25h2.942a.75.75 0 0 0 .75-.75z"/><path d="M20.299 12.339a1.75 1.75 0 0 0-2.475 0l-5.158 5.158a2.25 2.25 0 0 0-.646 1.35l-.19 1.746a.75.75 0 0 0 .827.826l1.747-.189a2.25 2.25 0 0 0 1.349-.646l5.158-5.158a1.75 1.75 0 0 0 0-2.475zm-2.277 1.923l.966.966l-4.296 4.296a.75.75 0 0 1-.45.215l-.82.089l.089-.82a.75.75 0 0 1 .215-.45z"/></g>
                                  </svg>
                          </button>
                          <button type="button" (click)="openModal(item.id)"
                                  class="font-medium text-sm px-4 py-2.5 cursor-pointer">
                                <svg xmlns="http://www.w3.org/2000/svg" class="hover:text-gray-400" width="24" height="24" viewBox="0 0 24 24">
                                  <g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2">
                                    <path stroke-dasharray="24" stroke-dashoffset="24" d="M12 20h5c0.5 0 1 -0.5 1 -1v-14M12 20h-5c-0.5 0 -1 -0.5 -1 -1v-14"><animate fill="freeze" attributeName="stroke-dashoffset" dur="0.4s" values="24;0"/></path><path stroke-dasharray="20" stroke-dashoffset="20" d="M4 5h16"><animate fill="freeze" attributeName="stroke-dashoffset" begin="0.4s" dur="0.2s" values="20;0"/></path><path stroke-dasharray="8" stroke-dashoffset="8" d="M10 4h4M10 9v7M14 9v7"><animate fill="freeze" attributeName="stroke-dashoffset" begin="0.6s" dur="0.2s" values="8;0"/>
                                    </path>
                                  </g>
                                </svg>
                          </button>


                      </td>
                    }
                      
                  </tr>
                }
                
                @if (dataTableTemp().length == 0) {
                    <tr class="hover:bg-slate-50 border-b border-slate-200">
                        <td [colSpan]="columns().length + 1" class="p-4 py-5">
                          <p class="text-sm text-slate-500 text-center">No se encontraron registros</p>
                        </td>
                    </tr>
                  } 
              </tbody>
          </table>
        
          @if (dataTableTemp().length > 0) {
              <app-pagination [pages]="pages()" [currentPages]="paginationServices.currentPage()"/>

          }
      </div>
 
  </div>

</div>